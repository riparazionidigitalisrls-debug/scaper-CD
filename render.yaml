services:
  - type: web
    name: scraper-componenti
    runtime: docker
    dockerfilePath: ./Dockerfile
    # ðŸ†• UPGRADE A STARTER (necessario per disk)
    plan: starter
    region: frankfurt
    
    # ðŸ†• AGGIUNGI DISCO PERSISTENTE
    disk:
      name: scraper-persistent-data
      mountPath: /data
      sizeGB: 1  # 1GB sufficiente (circa 50k prodotti + immagini)
    
    # Variabili ambiente
    envVars:
      - key: NODE_ENV
        value: production
      - key: RENDER
        value: true
      - key: PORT
        value: 10000
      # ðŸ†• AGGIUNGI QUESTA
      - key: DATA_DIR
        value: /data
    
    # Health check
    healthCheckPath: /healthz
    
    # Auto deploy
    autoDeploy: true
